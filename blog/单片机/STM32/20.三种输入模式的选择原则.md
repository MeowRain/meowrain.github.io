我们一般可以看一下接在这个引脚的外部模块输出的默认电平。如果外部模块空闲默认输出高电平，我们就选择上拉输入，默认输入高电平。如果外部模块默认输出低电平，我们配置下拉输入，默认输入低电平，和外部模块保持默认状态一致，防止默认电平打架，这是上拉和下拉的选择原则。

不过一般来说，默认高电平是一个习惯的状态，所以一般上拉输入用的比较多。

然后如果不确定外部模块输出的默认状态或者外部信号输出功率非常小，这时就尽量选择浮空输入，浮空输入没有上拉电阻和下拉电阻去影响外部信号。但是缺点就是当引脚悬空时没有默认的电平了，输入就会受噪声干扰，来回不断的跳变。

这就是三种输入模式的选择原则。


# 参考

<a href="https://blog.csdn.net/xiaobaivera/article/details/140041072">stm32学习笔记---TIM编码器接口（代码部分）编码器接口测速</a>

