在物联网项目当中,mqtt可以接收来自硬件传输过来的数据，也可以接收来自上位机的命令指令，然后再传给硬件进行处理。

以智能家居项目为例

硬件通过模块获取到温湿度等数据，然后依靠esp8266 wifi模块连接手机热点，然后连接mqtt服务器，从而将数据上传到mqtt的指定订阅当中例如pub。

而上位机可以通过连接mqtt服务器，将需要进行的操作命令同样发给mqtt的指定订阅中例如sub,然后通过sub将命令下发给硬件，这期间命令在mqtt中依靠json进行存储，因此在硬件当中需要将json格式进行解析，从而执行相应命令。

在这期间会通过usart串口显示正在进行的操作，比如数据的上传或者命令的收发