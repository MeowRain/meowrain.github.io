# 模板语法

## 文本插值
最基本的数据绑定形式是文本插值，它使用的是“Mustache”语法 (即双大括号)：

```vue
<span>Message: {{ msg }}</span>
```

例子：
```vue
App.vue
<script setup>
const msg = 10;
</script>
<template>
<div>
  <p>HelloWorld</p>
  <br>
  <p>{{ msg }}</p>
</div>
</template>
<style scoped>
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/lu47ok-3.webp)

## 原始 HTML

双大括号会将数据解释为纯文本，而不是 HTML。若想插入 HTML，你需要使用 v-html 指令：

```vue
<p>Using text interpolation: {{ rawHtml }}</p>
<p>Using v-html directive: <span v-html="rawHtml"></span></p>
```

例子：
```vue
<script setup>
const rawHtml = `<span style="color: red">This should be red.</span>`;
</script>
<template>
<div>
  <p>HelloWorld</p>
  <br>
  <p>{{ rawHtml }}</p>

  <p v-html="rawHtml"></p>
</div>
</template>
<style scoped>
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/lvdeck-3.webp)

> 在网站上动态渲染任意 HTML 是非常危险的，因为这非常容易造成 XSS 漏洞。请仅在内容安全可信时再使用 v-html，并且永远不要使用用户提供的 HTML 内容。

## Attribute 绑定

双大括号不能在 HTML attributes 中使用。想要响应式地绑定一个 attribute，应该使用 v-bind 指令：

```vue
<div v-bind:id="dynamicId"></div>
```

v-bind 指令指示 Vue 将元素的 id attribute 与组件的 dynamicId 属性保持一致。如果绑定的值是 null 或者 undefined，那么该 attribute 将会从渲染的元素上移除。


例子：
```vue

<script setup>
const dynamicId = "name";
</script>
<template>
<div>
  <p v-bind:id="dynamicId">HelloWorld</p>
  <br>

</div>
</template>
<style scoped>
#name {
  color: red;
  font-size: 100px;
}
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/m3mgyv-3.webp)

### 简写​
因为 v-bind 非常常用，我们提供了特定的简写语法：
`<div :id="dynamicId"></div>`

例子：
```vue

<script setup>
const dynamicId = "name";
</script>
<template>
<div>
  <p :id="dynamicId">HelloWorld</p>
  <br>

</div>
</template>
<style scoped>
#name {
  color: red;
  font-size: 100px;
}
</style>
```

## 布尔型 Attribute
布尔型 attribute 依据 true / false 值来决定 attribute 是否应该存在于该元素上。disabled 就是最常见的例子之一。


`<button :disabled="isButtonDisabled">Button</button>`

例子：
```vue
<script setup>
const isDisabled = false;
</script>
<template>
<div>
  <p>HelloWorld</p>
  <br>

  <button :disabled="isDisabled">Button</button>
</div>
</template>
<style scoped>
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/mbbunv-3.webp)

> 如果设置`isDisabled`为false,这个按钮就在页面上消失了



> 当 isDisabled 为真值或一个空字符串 (即 <button disabled="">) 时，元素会包含这个 disabled attribute。而当其为其他假值时 attribute 将被忽略。


## 动态绑定多个值

定义一个对象，其中为标签属性，例如

```js
const attributes = {
    id: "btn",
    class: "btn_fonts"
}
```

例子：
```vue
<script setup>
const attributes = {
  id: "btn",
  class: "btn_fonts"
};
</script>
<template>
<div>
  <p>HelloWorld</p>
  <br>
  <button v-bind="attributes">Button</button>
</div>
</template>
<style scoped>
#btn {
  width: 100px;
  height: 200px;
  background-color: aquamarine;
}
.btn_fonts {
  color: red;
  font-size: 34px;
}
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/mgosir-3.webp)

## 使用 JavaScript 表达式
Vue 实际上在所有的数据绑定中都支持完整的 JavaScript 表达式：

```jsx
{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}

<div :id="`list-${id}`"></div>

```

在 Vue 模板内，JavaScript 表达式可以被使用在如下场景上：

- 在文本插值中 (双大括号)
- 在任何 Vue 指令 (以 v- 开头的特殊 attribute) attribute 的值中

例子：
```vue

<script setup>
const useClass2 = false;
const message = "helloworld";
</script>
<template>
<div>
  <p :class="useClass2 ? 'class2':'class1'">{{ message.split('').reverse().join('~') }}</p>
  <br>
</div>
</template>
<style scoped>
.class1 {
  color: aliceblue;
  font-size: 100px;
  font-weight: lighter;
}
.class2 {
  color: red;
  font-size: 40px;
  font-weight: bolder;
}
</style>
```

![](https://static.meowrain.cn/i/2024/01/11/n8ocfm-3.webp)

## 仅支持表达式

每个绑定仅支持单一表达式，也就是一段能够被求值的 JavaScript 代码。一个简单的判断方法是是否可以合法地写在 return 后面。

```vue

<!-- 这是一个语句，而非表达式 -->
{{ var a = 1 }}

<!-- 条件控制也不支持，请使用三元表达式 -->
{{ if (ok) { return message } }}

```